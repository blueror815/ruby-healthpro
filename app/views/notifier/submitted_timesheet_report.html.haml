%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}
  %body
    %h1= "Timesheet Id is , #{@timesheet.id}" 
    %p
      - if @timesheet.user.job_type.payment_method_ids.include?('1')
        %h1 Visits
        %h3 Approved Visits
        %p  
          - @timesheet.visits.where(progress_state: 'approved').each do |visit|
            %label Visit Id
            %label= visit.id
        %h3 Not Approved Visits
        %p  
          - @timesheet.visits.where(progress_state: 'pending').each do |visit|
            %label Visit Id
            %label= visit.id
        %h3 Rejected Visits
        %p  
          - @timesheet.visits.where(progress_state: 'rejected').each do |visit|
            %label Visit Id
            %label= visit.id
      - if @timesheet.user.job_type.payment_method_ids.include?('2')
        %h1 Hours
        %h3 Approved Hours
        %p  
          - @timesheet.hours.where(progress_state: 'approved').each do |hour|
            %label Hour Id
            %label= hour.id
        %h3 Not Approved Hours
        %p  
          - @timesheet.hours.where(progress_state: 'pending').each do |hour|
            %label Hour Id
            %label= hour.id
        %h3 Rejected Hours
        %p  
          - @timesheet.hours.where(progress_state: 'rejected').each do |hour|
            %label Hour Id
            %label= hour.id
      - if @timesheet.user.job_type.payment_method_ids.include?('5')
        %h1 On Calls
        %h3 Approved On Calls
        %p  
          - @timesheet.line_items.on_calls.where(progress_state: 'approved').each do |on_call|
            %label On Call Id
            %label= on_call.id
        %h3 Not Approved On Calls
        %p  
          - @timesheet.line_items.on_calls.where(progress_state: 'pending').each do |on_call|
            %label On Call Id
            %label= on_call.id
        %h3 Rejected On Calls
        %p  
          - @timesheet.line_items.on_calls.where(progress_state: 'rejected').each do |on_call|
            %label On Call Id
            %label= on_call.id
      - if @timesheet.user.job_type.payment_method_ids.include?('6')
        %h1 Reimbursements
        %h3 Approved Reimbursements
        %p  
          - @timesheet.line_items.reimb.where(progress_state: 'approved').each do |reimb|
            %label Reimbursement Id
            %label= reimb.id
        %h3 Not Approved Reimbursements
        %p  
          - @timesheet.line_items.reimb.where(progress_state: 'pending').each do |reimb|
            %label Reimbursement Id
            %label= reimb.id
        %h3 Rejected Reimbursements
        %p  
          - @timesheet.line_items.reimb.where(progress_state: 'rejected').each do |reimb|
            %label Reimbursement Id
            %label= reimb.id


