%td= state_badge hour.progress_state
%td= date hour.date
%td= time hour.from
%td= time hour.to
%td= distance_of_time_in_words(hour.from, hour.to)
%td= hour.comments.first.content
%td.text-right
  - if hour.progress_state == "pending"
    = link_to  update_task_state_path(id: @timesheet.id, task_id: [hour.id], state: 'logged', task_type: 'hour'), class: "btn ink-reaction btn-icon-toggle btn-sm btn-primary" , :remote => true do 
      %i.fa.fa-remove
  %a.btn.btn-xs.ink-reaction.text-primary{class: ("pulse1" unless hour.comments.empty?), href: "#offcanvas-hour-#{hour.id}-comments" , "data-toggle": "offcanvas", "data-backdrop": "false"}
    %i.fa.fa-comment

